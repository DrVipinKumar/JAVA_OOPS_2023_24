package netpkg;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.PrintWriter;
import java.net.ServerSocket;
import java.net.Socket;

class Server {
	   ServerSocket ss;
	   Socket s;
	   String data;
	   PrintWriter out;
	   Boolean check=true;
	   BufferedReader MsgToClient=new BufferedReader(new InputStreamReader(System.in));
	   BufferedReader MsgByClient;
	   Server(){
	    try {
	    	ss =new ServerSocket(9999);
	    	System.out.println("Listening on Port 9999");
	 		s=ss.accept();
	 		if(s!=null)
	 		{
	 		   System.out.println("Connected with Client on Port 9999");
	 		   out=new PrintWriter(s.getOutputStream(),true);
	 		   MsgByClient=new BufferedReader(new InputStreamReader(s.getInputStream()));
	 		   while(check){
	 		  	 System.out.println("Client>>"+MsgByClient.readLine());
	 			 System.out.println("<<");
	 			 data=MsgToClient.readLine();
	 			 out.println(data);
	 		}		 
	 	}
	    }catch(IOException io) {
	    	io.printStackTrace();;
	    }
	   }
}
	class ChatServer {

	public static void main(String args[]){
	    new Server();
		}
	}
